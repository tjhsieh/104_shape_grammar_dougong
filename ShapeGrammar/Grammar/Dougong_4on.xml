<?xml version="1.0" encoding="UTF-8"?>
<ShapeGrammar name="四鋪作" draw="3D">
	<shapes>
		<shape>
			<name>櫨枓</name>
			<symbol>RD</symbol>
			<url>./Models/RD.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>散枓</name>
			<symbol>SD</symbol>
			<url>./Models/SD.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>齊心枓</name>
			<symbol>QXD</symbol>
			<url>./Models/QXD.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>交互枓</name>
			<symbol>JHD</symbol>
			<url>./Models/JHD.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>泥道栱</name>
			<symbol>NDG</symbol>
			<url>./Models/NDG.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>令栱</name>
			<symbol>LG</symbol>
			<url>./Models/LG.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>慢栱</name>
			<symbol>MG</symbol>
			<url>./Models/MG.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>帶昂華栱</name>
			<symbol>HGON</symbol>
			<url>./Models/HGON.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>爵頭</name>
			<symbol>JT</symbol>
			<url>./Models/JT.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>柱頭方</name>
			<symbol>JTF</symbol>
			<url>./Models/4/JTF.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>平棊方</name>
			<symbol>PCF</symbol>
			<url>./Models/PCF.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>橑檐方</name>
			<symbol>LEF</symbol>
			<url>./Models/LEF.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>牛脊方</name>
			<symbol>NJF</symbol>
			<url>./Models/NJF.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>襯方頭</name>
			<symbol>CFT</symbol>
			<url>./Models/CFT.dae</url>
			<type>dae</type>
		</shape>
		<shape>
			<name>昂</name>
			<symbol>ON</symbol>
			<url>./Models/4/ON.dae</url>
			<type>dae</type>
		</shape>
    <shape>
      <name>遮椽版</name>
      <symbol>JTB</symbol>
      <url>./Models/4/JTB.dae</url>
      <type>dae</type>
    </shape>
	</shapes>
	<symbols>	
		<symbol>
			<name>RD</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>12</y>
					<z>0</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>SD</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>6</y>
					<z>0</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>QXD</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>6</y>
					<z>0</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>JHD</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>6</y>
					<z>0</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>NDG</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>5</y>
					<z>0</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>-26</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>26</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>LG</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>5</y>
					<z>0</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>-31</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>31</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>MG</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>5</y>
					<z>0</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>-41</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>41</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>HGON</name>
			<start>
				<x>0</x>
				<y>5</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>21</y>
					<z>0</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>-30</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>30</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>JT</name>
			<start>
				<x>0</x>
				<y>5</y>
				<z>0</z>
			</start>
			<nexts>
				<next>
					<x>0</x>
					<y>21</y>
					<z>0</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>-30</z>
				</next>
				<next>
					<x>0</x>
					<y>15</y>
					<z>30</z>
				</next>
			</nexts>
		</symbol>
		<symbol>
			<name>JTF</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
      <nexts>
        <next>
          <x>0</x>
          <y>15</y>
          <z>0</z>
        </next>
        <next>
          <x>0</x>
          <y>21</y>
          <z>0</z>
        </next>
      </nexts>      
		</symbol>
		<symbol>
			<name>PCF</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
		</symbol>
		<symbol>
			<name>LEF</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
		</symbol>
		<symbol>
			<name>NJF</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
		</symbol>
		<symbol>
			<name>CFT</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
		</symbol>
		<symbol>
			<name>ON</name>
			<start>
				<x>0</x>
				<y>0</y>
				<z>0</z>
			</start>
		</symbol>
    <symbol>
      <name>JTB</name>
      <start>
        <x>0</x>
        <y>0</y>
        <z>0</z>
      </start>
    </symbol>
	</symbols>
	<rules>
		<rule>
			<description>由空間原點放入櫨枓</description>
			<from></from>
			<to>RD</to>
		</rule>
		<rule>
			<description>從櫨枓插入泥道栱</description>
			<from>RD</from>
			<to>RD=NDG(*,*)</to>
		</rule>
		<rule>
			<description>從泥道栱插入帶昂華栱</description>
			<from>NDG(*,*)</from>
			<to>NDG(*,*)=@[0|90|0]HGON(*,*)</to>
		</rule>
		<rule>
			<description>從泥道栱插入散枓(左)</description>
			<from>NDG(*,*)</from>
			<to>NDG(@[0|90|0]SD,*)</to>
		</rule>
		<rule>
			<description>從泥道栱插入散枓(右)</description>
			<from>NDG(*,*)</from>
			<to>NDG(*,@[0|90|0]SD)</to>
		</rule>
		<rule>
			<description>從帶昂華栱插入慢栱</description>
			<from>@[0|90|0]HGON(*,*)</from>
			<to>@[0|90|0]HGON(*,*)=MG(*,*)</to>
		</rule>
		<rule>
			<description>從帶昂華栱插入交互枓(左)</description>
			<from>@[0|90|0]HGON(*,*)</from>
			<to>@[0|90|0]HGON(@[0|90|0]JHD,*)</to>
		</rule>
		<rule>
			<description>從帶昂華栱插入昂(交集)</description>
			<from>@[0|90|0]HGON(*,*)</from>
			<to>@[0|90|0]HGON(*,ON)</to>
		</rule>
    <rule>
      <description>從帶昂華栱插入交互枓(右)</description>
      <from>@[0|90|0]HGON(*,ON)</from>
      <to>@[0|90|0]HGON(*,ON#@[0|90|0]JHD)</to>
    </rule>
		<rule>
			<description>從慢栱插入爵頭</description>
			<from>MG(*,*)</from>
			<to>MG(*,*)=@[0|90|0]JT(*,*)</to>
		</rule>
		<rule>
			<description>從慢栱插入散枓(左)</description>
			<from>MG(*,*)</from>
			<to>MG(@[0|90|0]SD,*)</to>
		</rule>
		<rule>
			<description>從慢栱插入散枓(右)</description>
			<from>MG(*,*)</from>
			<to>MG(*,@[0|90|0]SD)</to>
		</rule>
		<rule>
			<description>從交互枓插入令栱</description>
			<from>@[0|90|0]JHD</from>
			<to>@[0|90|0]JHD=LG(*,*)</to>
		</rule>
		<rule>
			<description>從爵頭插入柱頭方</description>
			<from>@[0|90|0]JT(*,*)</from>
			<to>@[0|90|0]JT(*,*)=JTF(*)</to>
		</rule>
		<rule>
			<description>從爵頭插入齊心枓(前)</description>
			<from>@[0|90|0]JT(*,*)</from>
			<to>@[0|90|0]JT(@[0|90|0]QXD,*)</to>
		</rule>
		<rule>
			<description>從爵頭插入齊心枓(後)</description>
			<from>@[0|90|0]JT(*,*)</from>
			<to>@[0|90|0]JT(*,@[0|90|0]QXD)</to>
		</rule>
		<rule>
			<description>從令栱插入散枓(左)</description>
			<from>LG(*,*)</from>
			<to>LG(@[0|90|0]SD,*)</to>
		</rule>
		<rule>
			<description>從令栱插入散枓(右)</description>
			<from>LG(*,*)</from>
			<to>LG(*,@[0|90|0]SD)</to>
		</rule>
    <rule>
      <description>從齊心枓(前)插入平棊方</description>
      <from>@[0|90|0]JT(@[0|90|0]QXD,*)</from>
      <to>@[0|90|0]JT(@[0|90|0]QXD=PCF,*)</to>
    </rule>
    <rule>
      <description>從齊心枓(後)插入橑檐方</description>
      <from>@[0|90|0]JT(*,@[0|90|0]QXD)</from>
      <to>@[0|90|0]JT(*,@[0|90|0]QXD=@[0|180|0]LEF)</to>
    </rule>
    <rule>
      <description>將襯方頭插入</description>
      <from>JTF(*)</from>
      <to>JTF(*)#@[0|90|0]CFT</to>
    </rule>
    <rule>
      <description>從柱頭方插入牛脊方</description>
      <from>JTF(*)</from>
      <to>JTF(NJF)</to>
    </rule>
    <rule>
      <description>從柱頭方插入遮椽版</description>
      <from>JTF(NJF)</from>
      <to>JTF(NJF)=JTB</to>
    </rule>
  </rules>
	<initial></initial>
  <products>
    <product>
      <name>四鋪作</name>
      <description>05-5 四鋪作插昂補間鋪作</description>
      <url>./Models/Product/Dougong_4on.dae</url>
      <grammar>RD=NDG(SD,SD)=HGON(JHD=LG(SD,SD),JHD#ON=LG(SD,SD))=MG(SD,SD)=JT(QXD=PCF,QXD=LEF)=JTF#CFT=NJF</grammar>
    </product>
  </products>
</ShapeGrammar>